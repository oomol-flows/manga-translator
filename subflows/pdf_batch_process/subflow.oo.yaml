nodes:
  - node_id: list_files_from_folder#1
    title: "List files from folder #1"
    inputs_from:
      - handle: folder
        value: /oomol-driver/oomol-storage/pdfs
        from_flow:
          - input_handle: source_dir
      - handle: sort
        value: false
      - handle: traverse
        value: false
      - handle: absolute_path
        value: true
    task: oomol-file::list_files_from_folder
  - node_id: filter_files#1
    title: "Filter Files #1"
    inputs_from:
      - handle: files
        from_node:
          - node_id: list_files_from_folder#1
            output_handle: file_paths
      - handle: type
        value: pdf
    task: oomol-file::filter_files
  - node_id: map#1
    title: "Map #1"
    inputs_from:
      - handle: array
        from_node:
          - node_id: filter_files#1
            output_handle: files
      - handle: args
        value: null
        from_node:
          - node_id: iter_args#1
            output_handle: args
    subflow: array::map
    slots:
      - slot_node_id: +slot#2
        slotflow: self::+slotflow#1
  - node_id: iter_args#1
    title: "Iter Args #1"
    inputs_from:
      - handle: save_dir
        from_flow:
          - input_handle: save_dir
        from_node:
          []
      - handle: device
        from_flow:
          - input_handle: device
        from_node:
          []
      - handle: source_language
        from_flow:
          - input_handle: source_language
        from_node:
          []
      - handle: target_language
        from_flow:
          - input_handle: target_language
        from_node:
          []
    task: array::iter_args
    inputs_def:
      - handle: save_dir
        json_schema:
          type: string
          ui:widget: dir
        kind: primitive
        nullable: true
      - handle: device
        json_schema:
          enum:
            - cuda
            - cpu
          ui:options:
            labels:
              - CUDA
              - CPU
        kind: primitive
        nullable: false
      - handle: source_language
        json_schema:
          enum:
            - auto
            - CHS
            - CHT
            - CSY
            - NLD
            - ENG
            - FRA
            - DEU
            - HUN
            - ITA
            - JPN
            - KOR
            - PLK
            - PTB
            - ROM
            - RUS
            - ESP
            - TRK
            - UKR
            - VIN
            - CNR
            - SRP
            - HRV
            - ARA
            - THA
            - IND
          ui:options:
            labels:
              - auto
              - 简体中文
              - 繁體中文
              - Čeština
              - Nederlands
              - English
              - Français
              - Deutsch
              - Magyar
              - Italiano
              - 日本語
              - 한국어
              - Polski
              - Português
              - Română
              - Русский
              - Español
              - Türkçe
              - Українська
              - Tiếng Việt
              - Crnogorski
              - Српски
              - Hrvatski
              - العربية
              - ไทย
              - Bahasa Indonesia
        kind: primitive
        nullable: false
      - handle: target_language
        json_schema:
          enum:
            - CHS
            - CHT
            - CSY
            - NLD
            - ENG
            - FRA
            - DEU
            - HUN
            - ITA
            - JPN
            - KOR
            - PLK
            - PTB
            - ROM
            - RUS
            - ESP
            - TRK
            - UKR
            - VIN
            - CNR
            - SRP
            - HRV
            - ARA
            - THA
            - IND
          ui:options:
            labels:
              - 简体中文
              - 繁體中文
              - Čeština
              - Nederlands
              - English
              - Français
              - Deutsch
              - Magyar
              - Italiano
              - 日本語
              - 한국어
              - Polski
              - Português
              - Română
              - Русский
              - Español
              - Türkçe
              - Українська
              - Tiếng Việt
              - Crnogorski
              - Српски
              - Hrvatski
              - العربية
              - ไทย
              - Bahasa Indonesia
        kind: primitive
        nullable: false
inputs_def:
  - handle: source_dir
    description: Input
    json_schema:
      type: string
      ui:widget: dir
    kind: primitive
    nullable: false
  - handle: save_dir
    json_schema:
      type: string
      ui:widget: dir
    kind: primitive
    nullable: true
    value:
  - handle: device
    json_schema:
      enum:
        - cuda
        - cpu
      ui:options:
        labels:
          - CUDA
          - CPU
    kind: primitive
    value: cuda
    nullable: false
  - handle: source_language
    json_schema:
      enum:
        - auto
        - CHS
        - CHT
        - CSY
        - NLD
        - ENG
        - FRA
        - DEU
        - HUN
        - ITA
        - JPN
        - KOR
        - PLK
        - PTB
        - ROM
        - RUS
        - ESP
        - TRK
        - UKR
        - VIN
        - CNR
        - SRP
        - HRV
        - ARA
        - THA
        - IND
      ui:options:
        labels:
          - auto
          - 简体中文
          - 繁體中文
          - Čeština
          - Nederlands
          - English
          - Français
          - Deutsch
          - Magyar
          - Italiano
          - 日本語
          - 한국어
          - Polski
          - Português
          - Română
          - Русский
          - Español
          - Türkçe
          - Українська
          - Tiếng Việt
          - Crnogorski
          - Српски
          - Hrvatski
          - العربية
          - ไทย
          - Bahasa Indonesia
    kind: primitive
    value: JPN
    nullable: false
  - handle: target_language
    json_schema:
      enum:
        - CHS
        - CHT
        - CSY
        - NLD
        - ENG
        - FRA
        - DEU
        - HUN
        - ITA
        - JPN
        - KOR
        - PLK
        - PTB
        - ROM
        - RUS
        - ESP
        - TRK
        - UKR
        - VIN
        - CNR
        - SRP
        - HRV
        - ARA
        - THA
        - IND
      ui:options:
        labels:
          - 简体中文
          - 繁體中文
          - Čeština
          - Nederlands
          - English
          - Français
          - Deutsch
          - Magyar
          - Italiano
          - 日本語
          - 한국어
          - Polski
          - Português
          - Română
          - Русский
          - Español
          - Türkçe
          - Українська
          - Tiếng Việt
          - Crnogorski
          - Српски
          - Hrvatski
          - العربية
          - ไทย
          - Bahasa Indonesia
    kind: primitive
    value: CHS
    nullable: false
outputs_def:
  - handle: array
    json_schema:
      type: array
    kind: primitive
    nullable: false
outputs_from:
  - handle: array
    from_node:
      - node_id: map#1
        output_handle: array
title: Pdf batch process
icon: ":carbon:list-checked-mirror:"
