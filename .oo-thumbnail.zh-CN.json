{"title":"manga-translator","icon":"https://package-assets.oomol.com/packages/manga-translator/0.2.0/files/package/icon.png","description":"%key%","flows":[{"name":"translate-manga-book","title":"translate manga book","icon":":carbon:book:","nodes":[{"nodeId":"translate-manga-book#1","title":"Translate manga book #1","icon":"https://package-assets.oomol.com/packages/manga-translator/0.2.0/files/package/icon.png","type":"subflow_node","subflow":"self::translate-manga-book","inputHandleDefs":[{"handle":"book_path","description":"the manga book file path to be translated","json_schema":{"type":"string","ui:widget":"file","ui:options":{"excludeAll":false,"filters":[{"name":"CBZ","extensions":["cbz"]},{"name":"CBR","extensions":["cbr"]},{"name":"EPUB","extensions":["epub"]},{"name":"PDF","extensions":["pdf"]}]}},"nullable":false},{"handle":"translated_path","description":"The file path where the manga book will be saved after translation. The extension will determine the format of the translated manga book. If not filled in, a special path will be specified, and the extension will be the same as the original book file (but *.cbr will be changed to *.cbz).","json_schema":{"type":"string","ui:widget":"save","ui:options":{"excludeAll":true,"filters":[{"name":"CBZ","extensions":["cbz"]},{"name":"EPUB","extensions":["epub"]},{"name":"PDF","extensions":["pdf"]}]}},"value":null,"nullable":true},{"handle":"target_language","description":"translated language","json_schema":{"enum":["CHS","CHT","CSY","NLD","ENG","FRA","DEU","HUN","ITA","JPN","KOR","PLK","PTB","ROM","RUS","ESP","TRK","UKR","VIN","CNR","SRP","HRV","ARA","THA","IND"],"ui:options":{"labels":["简体中文","繁體中文","Čeština","Nederlands","English","Français","Deutsch","Magyar","Italiano","日本語","한국어","Polski","Português","Română","Русский","Español","Türkçe","Українська","Tiếng Việt","Crnogorski","Српски","Hrvatski","العربية","ไทย","Bahasa Indonesia"]}},"nullable":false},{"group":"more","collapsed":true},{"handle":"source_language","description":"The source language of the manga book, if set to auto, it will be automatically recognized","json_schema":{"enum":["auto","CHS","CHT","CSY","NLD","ENG","FRA","DEU","HUN","ITA","JPN","KOR","PLK","PTB","ROM","RUS","ESP","TRK","UKR","VIN","CNR","SRP","HRV","ARA","THA","IND"],"ui:options":{"labels":["auto","简体中文","繁體中文","Čeština","Nederlands","English","Français","Deutsch","Magyar","Italiano","日本語","한국어","Polski","Português","Română","Русский","Español","Türkçe","Українська","Tiếng Việt","Crnogorski","Српски","Hrvatski","العربية","ไทย","Bahasa Indonesia"]}},"value":"auto","nullable":false},{"handle":"device","description":"Whether to use hardware acceleration (CUDA) to recognize images, otherwise only use the CPU","json_schema":{"enum":["cuda","cpu"],"ui:options":{"labels":["CUDA","CPU"]}},"value":"cuda","nullable":false},{"handle":"llm","json_schema":{"ui:options":{"title":"Model","tags":["text"],"excludeTags":["thinking"]},"ui:widget":"llm::model"},"value":{"model":"deepseek-chat","temperature":0.8,"top_p":0.6,"max_tokens":8192},"nullable":false}],"outputHandleDefs":[{"handle":"translated_path","description":"The file path where the manga book will be saved after translation","json_schema":{"type":"string","ui:widget":"save","ui:options":{"excludeAll":true,"filters":[{"name":"CBZ","extensions":["cbz"]},{"name":"CBR","extensions":["cbr"]},{"name":"EPUB","extensions":["epub"]},{"name":"PDF","extensions":["pdf"]}]}},"nullable":false}],"slotNodeDefs":[],"handleInputsFrom":[{"handle":"book_path","value":"/oomol-driver/oomol-storage/pdfs/manga_副本.pdf"},{"handle":"translated_path","value":null},{"handle":"target_language","value":"CHS"},{"handle":"source_language","value":"auto"},{"handle":"device","value":"cuda"},{"handle":"llm","value":{"model":"deepseek-chat","temperature":0.5,"top_p":1,"max_tokens":8100}}]}]},{"name":"translate-manga-books","title":"translate manga books (batch)","icon":":carbon:stacked-scrolling-1:","nodes":[{"nodeId":"translate-manga-books#1","title":"Translate manga books (batch) #1","icon":"https://package-assets.oomol.com/packages/manga-translator/0.2.0/files/package/icon.png","type":"subflow_node","subflow":"self::translate-manga-books","inputHandleDefs":[{"handle":"books_folder_path","description":"The searched folder path, all manga files inside will be translated","json_schema":{"type":"string","ui:widget":"dir"}},{"handle":"translated_folder_path","description":"The translated manga files will be saved in this folder. If you do not fill in this field, specify a specific folder.","json_schema":{"type":"string","ui:widget":"dir"},"value":null,"nullable":true},{"handle":"target_language","description":"translated language","json_schema":{"enum":["CHS","CHT","CSY","NLD","ENG","FRA","DEU","HUN","ITA","JPN","KOR","PLK","PTB","ROM","RUS","ESP","TRK","UKR","VIN","CNR","SRP","HRV","ARA","THA","IND"],"ui:options":{"labels":["简体中文","繁體中文","Čeština","Nederlands","English","Français","Deutsch","Magyar","Italiano","日本語","한국어","Polski","Português","Română","Русский","Español","Türkçe","Українська","Tiếng Việt","Crnogorski","Српски","Hrvatski","العربية","ไทย","Bahasa Indonesia"]}},"nullable":false},{"group":"more","collapsed":true},{"handle":"source_language","description":"The source language of the image, if set to auto, it will be automatically recognized","json_schema":{"enum":["auto","CHS","CHT","CSY","NLD","ENG","FRA","DEU","HUN","ITA","JPN","KOR","PLK","PTB","ROM","RUS","ESP","TRK","UKR","VIN","CNR","SRP","HRV","ARA","THA","IND"],"ui:options":{"labels":["auto","简体中文","繁體中文","Čeština","Nederlands","English","Français","Deutsch","Magyar","Italiano","日本語","한국어","Polski","Português","Română","Русский","Español","Türkçe","Українська","Tiếng Việt","Crnogorski","Српски","Hrvatski","العربية","ไทย","Bahasa Indonesia"]}},"value":"auto","nullable":false},{"handle":"device","description":"Whether to use hardware acceleration (CUDA) to recognize images, otherwise only use the CPU","json_schema":{"enum":["cuda","cpu"],"ui:options":{"labels":["CUDA","CPU"]}},"value":"cuda","nullable":false},{"handle":"formats","description":"Which formats of manga files to translate (multiple selections), unselected formats will be ignored.","json_schema":{"type":"array","uniqueItems":true,"items":{"enum":[".pdf",".cbz",".cbr",".epub"]},"ui:options":{"labels":["PDF","CBZ","CBR","EPUB"]}},"value":[".pdf",".cbz",".cbr",".epub"],"nullable":false},{"handle":"llm","json_schema":{"ui:options":{"title":"Model","tags":["text"],"excludeTags":["thinking"]},"ui:widget":"llm::model"},"value":{"model":"deepseek-chat","temperature":0.8,"top_p":0.6,"max_tokens":8192}}],"outputHandleDefs":[{"handle":"translated_folder_path","description":"The translated manga files will be saved in this folde","json_schema":{"type":"array","items":{"type":"string","ui:widget":"dir"}},"nullable":false}],"slotNodeDefs":[],"handleInputsFrom":[{"handle":"books_folder_path"},{"handle":"translated_folder_path","value":null},{"handle":"formats","value":[".pdf",".cbz",".cbr",".epub"]},{"handle":"device","value":"cuda"},{"handle":"source_language","value":"auto"},{"handle":"target_language"},{"handle":"llm","value":{"model":"deepseek-chat","temperature":0.5,"top_p":1,"max_tokens":8100}}]}],"uiData":{"nodes":{"translate-manga-books#1":{"contentWidth":573.505859375,"rfNode":{"position":{"x":187.00390625,"y":115.00130462646484}},"sections":{"inputs":{"groupCollapsed":{"more":true}}}}}}},{"name":"translate-single-manga-page","title":"translate single manga page","icon":":carbon:image:","nodes":[{"nodeId":"translate-manga-page#1","title":"Translate manga page #1","icon":"https://package-assets.oomol.com/packages/manga-translator/0.2.0/files/package/icon.png","type":"task_node","task":"self::translate-manga-page","executorName":"python","inputHandleDefs":[{"handle":"input","description":"The binary content of the image to be translated","json_schema":{"contentMediaType":"oomol/bin"}},{"handle":"target_language","description":"translated language","json_schema":{"enum":["CHS","CHT","CSY","NLD","ENG","FRA","DEU","HUN","ITA","JPN","KOR","PLK","PTB","ROM","RUS","ESP","TRK","UKR","VIN","CNR","SRP","HRV","ARA","THA","IND"],"ui:options":{"labels":["简体中文","繁體中文","Čeština","Nederlands","English","Français","Deutsch","Magyar","Italiano","日本語","한국어","Polski","Português","Română","Русский","Español","Türkçe","Українська","Tiếng Việt","Crnogorski","Српски","Hrvatski","العربية","ไทย","Bahasa Indonesia"]}},"nullable":false},{"group":"more","collapsed":true},{"handle":"source_language","description":"The source language of the image, if set to auto, it will be automatically recognized","json_schema":{"enum":["auto","CHS","CHT","CSY","NLD","ENG","FRA","DEU","HUN","ITA","JPN","KOR","PLK","PTB","ROM","RUS","ESP","TRK","UKR","VIN","CNR","SRP","HRV","ARA","THA","IND"],"ui:options":{"labels":["auto","简体中文","繁體中文","Čeština","Nederlands","English","Français","Deutsch","Magyar","Italiano","日本語","한국어","Polski","Português","Română","Русский","Español","Türkçe","Українська","Tiếng Việt","Crnogorski","Српски","Hrvatski","العربية","ไทย","Bahasa Indonesia"]}},"value":"auto"},{"handle":"device","description":"Whether to use hardware acceleration (CUDA) to recognize images, otherwise only use the CPU","json_schema":{"enum":["cuda","cpu"],"ui:options":{"labels":["CUDA","CPU"]}},"value":"cuda"},{"handle":"llm","json_schema":{"ui:options":{"title":"Model","tags":["text"],"excludeTags":["thinking"]},"ui:widget":"llm::model"},"value":{"model":"deepseek-chat","temperature":0.5,"top_p":1,"max_tokens":8192}}],"outputHandleDefs":[{"handle":"output","description":"Translated image binary content","json_schema":{"contentMediaType":"oomol/bin"}},{"handle":"ext","description":"Extension indicating the type of translated image","json_schema":{"enum":[".jpeg",".png",".gif",".bmp",".tiff",".webp"],"ui:options":{"labels":["JPEG","PNG","GIF","BMP","TIFF","WEBP"]}}}],"slotNodeDefs":[],"handleInputsFrom":[{"handle":"input","from_node":[{"node_id":"file_to_binary#1","output_handle":"binary"}]},{"handle":"source_language","value":"auto"},{"handle":"target_language"},{"handle":"device","value":"cuda"},{"handle":"llm","value":{"model":"deepseek-chat","temperature":0.5,"top_p":1,"max_tokens":8100}}]},{"nodeId":"file_to_binary#1","title":"File to binary #1","type":"task_node","task":"oomol-file::file_to_binary","inputHandleDefs":[{"handle":"file_path","json_schema":{}}],"handleInputsFrom":[{"handle":"file_path"}]},{"nodeId":"image_preview#1","title":"Image preview #1","type":"task_node","task":"oomol-preview::image_preview","inputHandleDefs":[{"handle":"image_path","json_schema":{}}],"handleInputsFrom":[{"handle":"image_path","from_node":[{"node_id":"binary_save_as_file#1","output_handle":"file_path"}]}]},{"nodeId":"binary_save_as_file#1","title":"Binary save as file #1","type":"task_node","task":"oomol-file::binary_save_as_file","inputHandleDefs":[{"handle":"binary","json_schema":{}},{"handle":"suffix","json_schema":{}},{"handle":"file_path","json_schema":{}}],"handleInputsFrom":[{"handle":"binary","from_node":[{"node_id":"translate-manga-page#1","output_handle":"output"}]},{"handle":"suffix","value":null,"from_node":[{"node_id":"translate-manga-page#1","output_handle":"ext"}]},{"handle":"file_path","value":null}]}],"uiData":{"nodes":{"translate-manga-page#1":{"contentWidth":477.8866422073417,"rfNode":{"position":{"x":516,"y":0}},"sections":{"inputs":{"groupCollapsed":{"more":true}}}},"file_to_binary#1":{"contentWidth":358.3904563312066,"rfNode":{"position":{"x":102.96781974625814,"y":0}}},"image_preview#1":{"contentWidth":782.6345824413372,"rfNode":{"position":{"x":1591.4331043098591,"y":287.9970920954611}}},"binary_save_as_file#1":{"rfNode":{"position":{"x":1094.0748282323943,"y":287.9970920954611}}}}}}],"blocks":[{"name":"translate-manga-images","title":"Translate manga images","description":"Translate a set of images as a manga book","icon":"https://package-assets.oomol.com/packages/manga-translator/0.2.0/files/package/icon.png","inputHandleDefs":[{"handle":"input_files","description":"Image file path array to be translated","json_schema":{"type":"array","items":{"type":"string","ui:widget":"file"}}},{"handle":"output_folder","description":"The directory path where the translated manga pages (image files) are saved. If not filled in, a special address will be set.","json_schema":{"type":"string","ui:widget":"dir"},"value":null,"nullable":true},{"handle":"target_language","description":"translated language","json_schema":{"enum":["CHS","CHT","CSY","NLD","ENG","FRA","DEU","HUN","ITA","JPN","KOR","PLK","PTB","ROM","RUS","ESP","TRK","UKR","VIN","CNR","SRP","HRV","ARA","THA","IND"],"ui:options":{"labels":["简体中文","繁體中文","Čeština","Nederlands","English","Français","Deutsch","Magyar","Italiano","日本語","한국어","Polski","Português","Română","Русский","Español","Türkçe","Українська","Tiếng Việt","Crnogorski","Српски","Hrvatski","العربية","ไทย","Bahasa Indonesia"]}},"nullable":false},{"group":"more","collapsed":true},{"handle":"source_language","description":"The source language of the image, if set to auto, it will be automatically recognized","json_schema":{"enum":["auto","CHS","CHT","CSY","NLD","ENG","FRA","DEU","HUN","ITA","JPN","KOR","PLK","PTB","ROM","RUS","ESP","TRK","UKR","VIN","CNR","SRP","HRV","ARA","THA","IND"],"ui:options":{"labels":["auto","简体中文","繁體中文","Čeština","Nederlands","English","Français","Deutsch","Magyar","Italiano","日本語","한국어","Polski","Português","Română","Русский","Español","Türkçe","Українська","Tiếng Việt","Crnogorski","Српски","Hrvatski","العربية","ไทย","Bahasa Indonesia"]}},"value":"auto"},{"handle":"device","description":"Whether to use hardware acceleration (CUDA) to recognize images, otherwise only use the CPU","json_schema":{"enum":["cuda","cpu"],"ui:options":{"labels":["CUDA","CPU"]}},"value":"cuda"},{"handle":"llm","json_schema":{"ui:options":{"title":"Model","tags":["text"],"excludeTags":["thinking"]},"ui:widget":"llm::model"},"value":{"model":"deepseek-chat","temperature":0.8,"top_p":0.6,"max_tokens":8192}}],"outputHandleDefs":[{"handle":"output_files","description":"Array of image file path for each page of the manga after translation","json_schema":{"type":"array","items":{"type":"string","ui:widget":"save"}}},{"handle":"output_folder","description":"The folder path where the translated manga page images are saved","json_schema":{"type":"string","ui:widget":"dir"}}],"task":"manga-translator::translate-manga-images","executorName":"python"},{"name":"translate-manga-page","title":"Translate manga page","description":"translate a manga page image","icon":"https://package-assets.oomol.com/packages/manga-translator/0.2.0/files/package/icon.png","inputHandleDefs":[{"handle":"input","description":"The binary content of the image to be translated","json_schema":{"contentMediaType":"oomol/bin"}},{"handle":"target_language","description":"translated language","json_schema":{"enum":["CHS","CHT","CSY","NLD","ENG","FRA","DEU","HUN","ITA","JPN","KOR","PLK","PTB","ROM","RUS","ESP","TRK","UKR","VIN","CNR","SRP","HRV","ARA","THA","IND"],"ui:options":{"labels":["简体中文","繁體中文","Čeština","Nederlands","English","Français","Deutsch","Magyar","Italiano","日本語","한국어","Polski","Português","Română","Русский","Español","Türkçe","Українська","Tiếng Việt","Crnogorski","Српски","Hrvatski","العربية","ไทย","Bahasa Indonesia"]}},"nullable":false},{"group":"more","collapsed":true},{"handle":"source_language","description":"The source language of the image, if set to auto, it will be automatically recognized","json_schema":{"enum":["auto","CHS","CHT","CSY","NLD","ENG","FRA","DEU","HUN","ITA","JPN","KOR","PLK","PTB","ROM","RUS","ESP","TRK","UKR","VIN","CNR","SRP","HRV","ARA","THA","IND"],"ui:options":{"labels":["auto","简体中文","繁體中文","Čeština","Nederlands","English","Français","Deutsch","Magyar","Italiano","日本語","한국어","Polski","Português","Română","Русский","Español","Türkçe","Українська","Tiếng Việt","Crnogorski","Српски","Hrvatski","العربية","ไทย","Bahasa Indonesia"]}},"value":"auto"},{"handle":"device","description":"Whether to use hardware acceleration (CUDA) to recognize images, otherwise only use the CPU","json_schema":{"enum":["cuda","cpu"],"ui:options":{"labels":["CUDA","CPU"]}},"value":"cuda"},{"handle":"llm","json_schema":{"ui:options":{"title":"Model","tags":["text"],"excludeTags":["thinking"]},"ui:widget":"llm::model"},"value":{"model":"deepseek-chat","temperature":0.5,"top_p":1,"max_tokens":8192}}],"outputHandleDefs":[{"handle":"output","description":"Translated image binary content","json_schema":{"contentMediaType":"oomol/bin"}},{"handle":"ext","description":"Extension indicating the type of translated image","json_schema":{"enum":[".jpeg",".png",".gif",".bmp",".tiff",".webp"],"ui:options":{"labels":["JPEG","PNG","GIF","BMP","TIFF","WEBP"]}}}],"task":"manga-translator::translate-manga-page","executorName":"python"},{"name":"translate-manga-book","title":"Translate manga book","icon":"https://package-assets.oomol.com/packages/manga-translator/0.2.0/files/package/icon.png","inputHandleDefs":[{"handle":"book_path","description":"the manga book file path to be translated","json_schema":{"type":"string","ui:widget":"file","ui:options":{"excludeAll":false,"filters":[{"name":"CBZ","extensions":["cbz"]},{"name":"CBR","extensions":["cbr"]},{"name":"EPUB","extensions":["epub"]},{"name":"PDF","extensions":["pdf"]}]}},"nullable":false},{"handle":"translated_path","description":"The file path where the manga book will be saved after translation. The extension will determine the format of the translated manga book. If not filled in, a special path will be specified, and the extension will be the same as the original book file (but *.cbr will be changed to *.cbz).","json_schema":{"type":"string","ui:widget":"save","ui:options":{"excludeAll":true,"filters":[{"name":"CBZ","extensions":["cbz"]},{"name":"EPUB","extensions":["epub"]},{"name":"PDF","extensions":["pdf"]}]}},"value":null,"nullable":true},{"handle":"target_language","description":"translated language","json_schema":{"enum":["CHS","CHT","CSY","NLD","ENG","FRA","DEU","HUN","ITA","JPN","KOR","PLK","PTB","ROM","RUS","ESP","TRK","UKR","VIN","CNR","SRP","HRV","ARA","THA","IND"],"ui:options":{"labels":["简体中文","繁體中文","Čeština","Nederlands","English","Français","Deutsch","Magyar","Italiano","日本語","한국어","Polski","Português","Română","Русский","Español","Türkçe","Українська","Tiếng Việt","Crnogorski","Српски","Hrvatski","العربية","ไทย","Bahasa Indonesia"]}},"nullable":false},{"group":"more","collapsed":true},{"handle":"source_language","description":"The source language of the manga book, if set to auto, it will be automatically recognized","json_schema":{"enum":["auto","CHS","CHT","CSY","NLD","ENG","FRA","DEU","HUN","ITA","JPN","KOR","PLK","PTB","ROM","RUS","ESP","TRK","UKR","VIN","CNR","SRP","HRV","ARA","THA","IND"],"ui:options":{"labels":["auto","简体中文","繁體中文","Čeština","Nederlands","English","Français","Deutsch","Magyar","Italiano","日本語","한국어","Polski","Português","Română","Русский","Español","Türkçe","Українська","Tiếng Việt","Crnogorski","Српски","Hrvatski","العربية","ไทย","Bahasa Indonesia"]}},"value":"auto","nullable":false},{"handle":"device","description":"Whether to use hardware acceleration (CUDA) to recognize images, otherwise only use the CPU","json_schema":{"enum":["cuda","cpu"],"ui:options":{"labels":["CUDA","CPU"]}},"value":"cuda","nullable":false},{"handle":"llm","json_schema":{"ui:options":{"title":"Model","tags":["text"],"excludeTags":["thinking"]},"ui:widget":"llm::model"},"value":{"model":"deepseek-chat","temperature":0.8,"top_p":0.6,"max_tokens":8192},"nullable":false}],"outputHandleDefs":[{"handle":"translated_path","description":"The file path where the manga book will be saved after translation","json_schema":{"type":"string","ui:widget":"save","ui:options":{"excludeAll":true,"filters":[{"name":"CBZ","extensions":["cbz"]},{"name":"CBR","extensions":["cbr"]},{"name":"EPUB","extensions":["epub"]},{"name":"PDF","extensions":["pdf"]}]}},"nullable":false}],"nodes":[{"task":"self::translate-manga-images","title":"Manga #1","node_id":"manga-invoker#1","inputs_from":[{"handle":"input_files","from_node":[{"node_id":"unarchive2images#1","output_handle":"images"}]},{"handle":"output_folder","value":null},{"handle":"device","value":"cuda","from_flow":[{"input_handle":"device"}]},{"handle":"models","value":null,"from_flow":[{"input_handle":"models"}]},{"handle":"source_language","value":"auto","from_flow":[{"input_handle":"source_language"}]},{"handle":"target_language","value":"CHS","from_flow":[{"input_handle":"target_language"}]},{"handle":"llm","value":{"model":"deepseek-chat","temperature":1,"top_p":0.8,"max_tokens":4096},"from_flow":[{"input_handle":"llm"}]}],"progress_weight":5},{"node_id":"unarchive2images#1","title":"Unarchive to images #1","inputs_from":[{"handle":"archive_path","from_flow":[{"input_handle":"book_path"}]}],"subflow":"manga-tools::unarchive2images","progress_weight":5},{"node_id":"archive#1","title":"Archive images #1","inputs_from":[{"handle":"images","value":[],"from_node":[{"node_id":"manga-invoker#1","output_handle":"output_files"}]},{"handle":"format","value":null,"from_node":[{"node_id":"+python#1","output_handle":"format"}]},{"handle":"title","value":null,"from_node":[{"node_id":"unarchive2images#1","output_handle":"title"}]},{"handle":"author","value":null,"from_node":[{"node_id":"unarchive2images#1","output_handle":"author"}]},{"handle":"reading_order","value":"to-right","from_node":[{"node_id":"unarchive2images#1","output_handle":"reading_order"}]},{"handle":"archive_path","value":null,"from_flow":[{"input_handle":"translated_path"}]}],"task":"manga-tools::archive","progress_weight":90},{"node_id":"+python#1","title":"Filter CBR","icon":":logos:python:","task":{"ui":{"default_width":450},"inputs_def":[{"handle":"format","json_schema":{"enum":["cbz","cbr","epub","pdf"],"ui:options":{"labels":["CBZ","CBR","EPUB","PDF"]}},"nullable":false}],"outputs_def":[{"handle":"format","json_schema":{"enum":["cbz","epub","pdf"],"ui:options":{"labels":["CBZ","EPUB","PDF"]}},"nullable":true}],"executor":{"name":"python","options":{"entry":"scriptlets/+scriptlet#1.py"}}},"inputs_from":[{"handle":"format","from_node":[{"node_id":"unarchive2images#1","output_handle":"format"}]}]}],"handleOutputsFrom":[{"handle":"translated_path","from_node":[{"node_id":"archive#1","output_handle":"archive_path"}]}],"subflow":"manga-translator::translate-manga-book"},{"name":"translate-manga-books","title":"Translate manga books (batch)","description":"Batch translate manga book files in a folder","icon":"https://package-assets.oomol.com/packages/manga-translator/0.2.0/files/package/icon.png","inputHandleDefs":[{"handle":"books_folder_path","description":"The searched folder path, all manga files inside will be translated","json_schema":{"type":"string","ui:widget":"dir"}},{"handle":"translated_folder_path","description":"The translated manga files will be saved in this folder. If you do not fill in this field, specify a specific folder.","json_schema":{"type":"string","ui:widget":"dir"},"value":null,"nullable":true},{"handle":"target_language","description":"translated language","json_schema":{"enum":["CHS","CHT","CSY","NLD","ENG","FRA","DEU","HUN","ITA","JPN","KOR","PLK","PTB","ROM","RUS","ESP","TRK","UKR","VIN","CNR","SRP","HRV","ARA","THA","IND"],"ui:options":{"labels":["简体中文","繁體中文","Čeština","Nederlands","English","Français","Deutsch","Magyar","Italiano","日本語","한국어","Polski","Português","Română","Русский","Español","Türkçe","Українська","Tiếng Việt","Crnogorski","Српски","Hrvatski","العربية","ไทย","Bahasa Indonesia"]}},"nullable":false},{"group":"more","collapsed":true},{"handle":"source_language","description":"The source language of the image, if set to auto, it will be automatically recognized","json_schema":{"enum":["auto","CHS","CHT","CSY","NLD","ENG","FRA","DEU","HUN","ITA","JPN","KOR","PLK","PTB","ROM","RUS","ESP","TRK","UKR","VIN","CNR","SRP","HRV","ARA","THA","IND"],"ui:options":{"labels":["auto","简体中文","繁體中文","Čeština","Nederlands","English","Français","Deutsch","Magyar","Italiano","日本語","한국어","Polski","Português","Română","Русский","Español","Türkçe","Українська","Tiếng Việt","Crnogorski","Српски","Hrvatski","العربية","ไทย","Bahasa Indonesia"]}},"value":"auto","nullable":false},{"handle":"device","description":"Whether to use hardware acceleration (CUDA) to recognize images, otherwise only use the CPU","json_schema":{"enum":["cuda","cpu"],"ui:options":{"labels":["CUDA","CPU"]}},"value":"cuda","nullable":false},{"handle":"formats","description":"Which formats of manga files to translate (multiple selections), unselected formats will be ignored.","json_schema":{"type":"array","uniqueItems":true,"items":{"enum":[".pdf",".cbz",".cbr",".epub"]},"ui:options":{"labels":["PDF","CBZ","CBR","EPUB"]}},"value":[".pdf",".cbz",".cbr",".epub"],"nullable":false},{"handle":"llm","json_schema":{"ui:options":{"title":"Model","tags":["text"],"excludeTags":["thinking"]},"ui:widget":"llm::model"},"value":{"model":"deepseek-chat","temperature":0.8,"top_p":0.6,"max_tokens":8192}}],"outputHandleDefs":[{"handle":"translated_folder_path","description":"The translated manga files will be saved in this folde","json_schema":{"type":"array","items":{"type":"string","ui:widget":"dir"}},"nullable":false}],"nodes":[{"node_id":"+python#1","title":"Search manga files","icon":":logos:python:","task":{"ui":{"default_width":450},"inputs_def":[{"handle":"books_folder_path","json_schema":{"type":"string","ui:widget":"dir"},"nullable":false},{"handle":"translated_folder_path","json_schema":{"type":"string","ui:widget":"dir"},"nullable":true},{"handle":"formats","json_schema":{"type":"array","uniqueItems":true,"items":{"enum":[".pdf",".cbz",".cbr",".epub"]},"ui:options":{"labels":["PDF","CBZ","CBR","EPUB"]}},"nullable":false}],"outputs_def":[{"handle":"items","json_schema":{"type":"array","items":{"type":"array","items":{"type":"object","additionalProperties":false,"properties":{"input":{"type":"string"},"output":{"type":"string"}}}}}},{"handle":"translated_folder_path","json_schema":{"type":"array","items":{"type":"string","ui:widget":"dir"}}}],"executor":{"name":"python","options":{"entry":"scriptlets/+scriptlet#1.py"}}},"inputs_from":[{"handle":"books_folder_path","from_flow":[{"input_handle":"books_folder_path"}]},{"handle":"translated_folder_path","value":null,"from_flow":[{"input_handle":"translated_folder_path"}]},{"handle":"formats","from_flow":[{"input_handle":"formats"}]}]},{"node_id":"map#1","title":"Map #1","inputs_from":[{"handle":"array","from_node":[{"node_id":"+python#1","output_handle":"items"}]}],"subflow":"array::map","slots":[{"slot_node_id":"+slot#2","slotflow":"self::+slotflow#1","inputs_def":[{"handle":"device","json_schema":{"enum":["cuda","cpu"],"ui:options":{"labels":["CUDA","CPU"]}},"nullable":false},{"handle":"source_language","json_schema":{"enum":["auto","CHS","CHT","CSY","NLD","ENG","FRA","DEU","HUN","ITA","JPN","KOR","PLK","PTB","ROM","RUS","ESP","TRK","UKR","VIN","CNR","SRP","HRV","ARA","THA","IND"],"ui:options":{"labels":["auto","简体中文","繁體中文","Čeština","Nederlands","English","Français","Deutsch","Magyar","Italiano","日本語","한국어","Polski","Português","Română","Русский","Español","Türkçe","Українська","Tiếng Việt","Crnogorski","Српски","Hrvatski","العربية","ไทย","Bahasa Indonesia"]}},"nullable":false},{"handle":"target_language","json_schema":{"enum":["CHS","CHT","CSY","NLD","ENG","FRA","DEU","HUN","ITA","JPN","KOR","PLK","PTB","ROM","RUS","ESP","TRK","UKR","VIN","CNR","SRP","HRV","ARA","THA","IND"],"ui:options":{"labels":["简体中文","繁體中文","Čeština","Nederlands","English","Français","Deutsch","Magyar","Italiano","日本語","한국어","Polski","Português","Română","Русский","Español","Türkçe","Українська","Tiếng Việt","Crnogorski","Српски","Hrvatski","العربية","ไทย","Bahasa Indonesia"]}},"nullable":false},{"handle":"llm","json_schema":{"ui:options":{"title":"Model"},"ui:widget":"llm::model"},"nullable":false}],"inputs_from":[{"handle":"device","from_flow":[{"input_handle":"device"}]},{"handle":"source_language","from_flow":[{"input_handle":"source_language"}]},{"handle":"target_language","from_flow":[{"input_handle":"target_language"}]},{"handle":"llm","from_flow":[{"input_handle":"llm"}]}]}],"progress_weight":100}],"handleOutputsFrom":[{"handle":"translated_folder_path","from_node":[{"node_id":"+python#1","output_handle":"translated_folder_path"}]}],"subflow":"manga-translator::translate-manga-books"}]}